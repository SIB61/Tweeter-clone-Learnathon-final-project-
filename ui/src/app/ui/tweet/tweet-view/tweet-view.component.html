<div *ngIf="tweetModel.isRetweet" class="text-xs text-gray-500 pt-3 pl-4 capitalize font-bold">
  <fa-icon [icon]="faRetweet" class="mx-2"></fa-icon>
  {{ tweetModel.fullName }} retweeted </div>
<mat-card class="mat-elevation-z0" *ngIf="!tweetModel.isRetweet || tweetModel.parentTweet!=null;else unavailable" [@slideInRight]>
  <mat-card-header>
    <div class="avatar" matCardAvatar>
      <div class="font-bold text-2xl text-gray-500">
        {{ tweet.fullName[0] }}
      </div>
    </div>
    <mat-card-title>{{ tweet.fullName }}</mat-card-title>
    <mat-card-subtitle
      >@{{ tweet.userName }} .
      {{ tweet.createdAt | timeago: live }}</mat-card-subtitle
    >
  </mat-card-header>
  <mat-card-content>
    <span class="text-[16px] mb-0" [class.line-clamp-3]="isClamp">
      {{ tweet.content }}
    </span>
    <span
      (click)="isClamp = !isClamp"
      class="text-gray-400 hover:underline cursor-pointer"
      >{{ isClamp ? "see more" : "see less" }}</span
    >
    <mat-chip-list class="chip-list my-2" #tagList>
      <mat-chip
        style="background-color: aliceblue; font-weight: bolder"
        *ngFor="let tag of tags"
      >
        #{{ tag }}
      </mat-chip>
    </mat-chip-list>
  </mat-card-content>
  <mat-card-footer class="flex flex-col">
    <div class="flex justify-evenly">
      <div [class.text-red-500]="isLiked">
        <button mat-icon-button (click)="like()" class="font-thin">
          <fa-icon [icon]="faHeart" class="text-lg" ></fa-icon>
        </button>
        {{ tweet.totalLikes }}
      </div>
      <div>
        <button mat-icon-button (click)="comment()">
          <fa-icon [icon]="faComment" class="text-lg"></fa-icon>
        </button>
        {{ tweet.totalComments }}
      </div>
      <div [class.text-green-500]="isRetweeted">
        <button mat-icon-button (click)="retweet()">
          <fa-icon class="text-lg" [icon]="faRetweet"></fa-icon>
        </button>
        {{ tweet.totalRetweets }}
      </div>
    </div>
    <mat-expansion-panel
      [expanded]="isExpanded"
      (expandedChange)="change()"
      class="mat-elevation-z0 w-full"
    >
      <mat-divider></mat-divider>
      <div
        class="my-1 w-max hover:underline cursor-pointer text-blue-500"
        [routerLink]="'/home/' + tweet.id + '/comments'"
      >
        see all comments
      </div>
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>comment</mat-label>
        <input
          [(ngModel)]="commentText"
          matInput
          class="w-full"
          placeholder="write your comment"
        />
        <button
          mat-icon-button
          color="primary"
          matSuffix
          (click)="sendComment()"
        >
          <mat-icon>send</mat-icon>
        </button>
      </mat-form-field>
    </mat-expansion-panel>
  </mat-card-footer>
</mat-card>

<ng-template #unavailable >
  <div class="w-full p-4 border-b border-b-gray-300">
    <div class=" bg-aliceblue rounded-lg w-full px-8 py-6">
      <span class="font-mono font-semibold text-gray-600">
      unavailable
      </span>
    </div>
  </div>
</ng-template>
